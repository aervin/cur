var usd=function(t,r,o){if("number"==typeof t){o=void 0===o?{thousandsSeparator:",",decimalSeparator:"."}:o;var e=rnd(t,2).toString(),a=t<0,i=-1!==t.toString().search(/\./),n=/.+?(?=\.)/g,d=/[^.]+$/g,s=(i?e.match(n)[0]:e)||void 0;s=void 0!==s&&a?s.slice(1):s;var p=i?e.match(d)[0]:void 0;p=void 0!==p&&1===p.length?p+"0":p;var u,v=parseInt(p)>=50||!1,h=void 0!==s&&"0"!==s?sep(s,o.thousandsSeparator):void 0;return r&&!i?u="00":r&&i&&(u=void 0!==(u=e.match(d)[0]||void 0)&&u.length<2?u+="0":u),r||(h=v?sep((parseInt(s)+1).toString(),o.thousandsSeparator):h),(a?"-":"")+(h||"")+(void 0!==u?o.decimalSeparator+u:"")}},sep=function(t,r){if("string"!=typeof r)throw Error('Problem with thousands separator. config.separator is not of type "string"');return t.replace(/\B(?=(\d{3})+(?!\d))/g,r)},rnd=function(t,r){return void 0===r||0==+r?Math.round(t):(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!=0?NaN:(t=t.toString().split("e"),t=Math.round(+(t[0]+"e"+(t[1]?+t[1]+r:r))),+((t=t.toString().split("e"))[0]+"e"+(t[1]?+t[1]-r:-r))))};module.exports=usd;